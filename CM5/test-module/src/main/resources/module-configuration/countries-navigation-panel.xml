<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<configuration xmlns="https://cm5.intertrust.ru/config">
    <navigation name="panel"
                is-default="true"> <!-- is-default определяет факт того, что данная панель навигации является таковой "по умолчанию", то есть используется для тех пользователей и ролей, для которых панель навигации не переопределена -->
        <!-- Пример на основе "Руководства разработчика"-->
        <link name="Geography" display-text="География" image="images/analitika.png" child-to-open="Countries">
            <child-links>
                <link name="Countries" display-text="Страны">
                    <plugin>
                        <!--domain-object-type-to-create="country" - temp solution - remove later-->
                        <domain-object-surfer domain-object-type-to-create="country">
                            <collection-viewer>
                                <collection-ref name="Countries"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                                <search-area-ref name="Countries-Search-Area"/>
                                <search-collection-ref name="Countries"/>
                                <filter-panel panel-state="open"/>
                                <initial-filters>
                                    <initial-filter name="byName">
                                        <param name="0" value="Яп%"/>
                                    </initial-filter>
                                </initial-filters>
                            </collection-viewer>
                            <toggle-edit>true</toggle-edit>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Cities" display-text="Города">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="city">
                            <collection-viewer>
                                <collection-ref name="Cities"/>
                                <default-sort-criteria column-field="population" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>
                <link name="CountryUnions" display-text="Союзы">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="country_union">
                            <collection-viewer>
                                <collection-ref name="CountryUnions"/>
                                <default-sort-criteria column-field="name" order="ask"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="FormsTest1" display-text="Механизм форм 1">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="a1">
                            <collection-viewer>
                                <collection-ref name="a1_collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="FormsTest2" display-text="Механизм форм 2">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="a2">
                            <collection-viewer>
                                <collection-ref name="a2_collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="FormsTest3" display-text="Механизм форм 3">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="a3">
                            <collection-viewer>
                                <collection-ref name="a3_collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
            </child-links>
        </link>

        <link name="Administration" display-text="Состав" image="images/cases.png" child-to-open="Employee">
            <!-- в администрировании не задан плагин, значит по клику ничего открываться не должно, либо должна открываться дочерняя ссылка. дочерняя ссылка должна быть одной из вложенных (1й уровень вложенности). если не задан ни плагин, ни дочерняя ссылка, то данная ссылка является простой группировкой дочерних -->
            <child-links> <!-- group-name параметр не обязательный. Если он задан, то на экране появляется элемент-название группы (см. "Руководство разработчика", раздел Строение системы, Навигационное дерево -> "Стадии и задачи"-->
                <link name="Employee" display-text="Сотрудники" image="images/inbox.png">
                    <plugin>
                        <!-- DomainObjectSurferConfig и CustomPluginConfig должны наследоваться от PluginConfig -->
                        <!-- если используется collection-view, то collection нельзя использовать -->
                        <domain-object-surfer domain-object-type-to-create="Employee">
                            <collection-viewer>
                                <collection-ref name="Employees" use-default="true"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                            </collection-viewer>
                            <toggle-edit>true</toggle-edit>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>

                <link name="Department" display-text="Отдел" image="images/docs.png">
                    <plugin>
                        <!-- DomainObjectSurferConfig и CustomPluginConfig должны наследоваться от PluginConfig -->
                        <!-- если используется collection-view, то collection нельзя использовать -->
                        <domain-object-surfer domain-object-type-to-create="Department">
                            <collection-viewer>
                                <collection-ref name="Departments" use-default="true"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>

                <link name="Organization" display-text="Организация" image="images/inbox.png">
                    <plugin>
                        <!-- DomainObjectSurferConfig и CustomPluginConfig должны наследоваться от PluginConfig -->
                        <!-- если используется collection-view, то collection нельзя использовать -->
                        <domain-object-surfer domain-object-type-to-create="Organization">
                            <collection-viewer>
                                <collection-ref name="Organizations" use-default="true"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>
            </child-links>
        </link>

        <link name="Calendar" display-text="Календарь" image="images/calendar.png" child-to-open="Calendar">
            <child-links>

                <link name="Calendar" display-text="calendar">
                       <plugin>
                            <custom name="calendar.plugin">

                            </custom>

                       </plugin>
                </link>
            </child-links>
        </link>

        <link name="Documents" display-text="Документы" image="images/docs.png" child-to-open="Letters">
            <child-links>
                <link name="Letters" display-text="Письма">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="letter">
                            <collection-viewer>
                                <collection-ref name="letters"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Org_Middle" display-text="Промежуточный Обьетк">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="org_middle">
                            <collection-viewer>
                                <collection-ref name="org_middle_collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Internal_Document" display-text="Внутренние документы">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="Internal_Document">
                            <collection-viewer>
                                <collection-ref name="Internal_Document"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Notifications" display-text="Уведомления">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="notification">
                            <collection-viewer>
                                <collection-ref name="Notifications" />
                                <default-sort-criteria column-field="subject" order="desc" />
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter />
                    </decorations>
                </link>
            <!--    <link name="Custom_Plugin" display-text="Плагин">
                    <plugin>
                        <custom name="some.plugin">
                            <attribute name="label_value" value="Кастомный плагин"/>

                        </custom>
                    </plugin>
                </link>-->
            </child-links>

            <child-links>
                <link name="Report_upload" display-text="Загрузка шаблонов отчетов">
                    <plugin>
                        <custom name="report.upload.plugin"/>
                    </plugin>
                </link>
            </child-links>

            <child-links group-name="Отчеты">
                <link name="Report_all" display-text="Все сотрудники">
                    <plugin>
                        <report-plugin report-name="all-employee"/>
                    </plugin>
                </link>
                <link name="Report_params" display-text="За период">
                    <plugin>
                        <report-plugin report-name="all-employee-params"/>
                    </plugin>
                </link>
                <link name="Report_dataSource" display-text="Источник данных">
                    <plugin>
                        <report-plugin report-name="all-employee-ds"/>
                    </plugin>
                </link>
                <link name="Report_scriptlet" display-text="Скриптлет">
                    <plugin>
                        <report-plugin report-name="all-employee-scriptlet"/>
                    </plugin>
                </link>
                <link name="Report_groups" display-text="Группы">
                    <plugin>
                        <report-plugin report-name="employee-groups"/>
                    </plugin>
                </link>
            </child-links>
        </link>

        <link name="Inbox" display-text="Входящие" image="images/helpers.png" child-to-open="Tasks">
            <child-links>
                <link name="Tasks" display-text="Задачи">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="Internal_Document">
                            <collection-viewer>
                                <collection-ref name="Tasks"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>

                <link name="Letters" display-text="Письма">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="Letter">
                            <collection-viewer>
                                <collection-ref name="Letters"/>
                            </collection-viewer>
                            <toggle-edit>true</toggle-edit>
                        </domain-object-surfer>
                    </plugin>
                </link>
            </child-links>
        </link>
        <link name="InboxTest" display-text="Группа" image="images/meetings.png" child-to-open="TasksTest">
            <child-links group-name="Группа">
                <link name="TasksTest" display-text="Задачи">

                    <plugin>
                        <!-- DomainObjectSurferConfig и CustomPluginConfig должны наследоваться от PluginConfig -->
                        <!-- если используется collection-view, то collection нельзя использовать -->
                        <domain-object-surfer domain-object-type-to-create="Department">
                            <collection-viewer>
                                <collection-ref name="Departments" use-default="true"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>

                    <child-links>
                        <link name="TasksHigh" display-text="Задачи высокого приоритета">
                            <plugin>
                                <domain-object-surfer domain-object-type-to-create="Internal_Document">
                                    <collection-viewer>
                                        <collection-ref name="Tasks"/>
                                    </collection-viewer>
                                </domain-object-surfer>
                            </plugin>
                        </link>
                        <link name="TasksLow" display-text="Задачи низкого приориете">
                            <plugin>
                                <domain-object-surfer domain-object-type-to-create="Internal_Document">
                                    <collection-viewer>
                                        <collection-ref name="Tasks"/>
                                    </collection-viewer>
                                </domain-object-surfer>
                            </plugin>
                        </link>
                    </child-links>
                </link>
                <link name="TasksTestTest" display-text="ЗадачиЗадачи">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="Internal_Document">
                            <collection-viewer>
                                <collection-ref name="Tasks"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <child-links>
                        <link name="TasksHigh2" display-text="Задачи высокого приоритета2">
                            <plugin>
                                <domain-object-surfer domain-object-type-to-create="Internal_Document">
                                    <collection-viewer>
                                        <collection-ref name="Tasks"/>
                                    </collection-viewer>
                                </domain-object-surfer>
                            </plugin>
                        </link>
                        <link name="TasksLow2" display-text="Задачи низкого приориете2">
                            <plugin>
                                <domain-object-surfer domain-object-type-to-create="Internal_Document">
                                    <collection-viewer>
                                        <collection-ref name="Tasks"/>
                                    </collection-viewer>
                                </domain-object-surfer>
                            </plugin>
                        </link>
                    </child-links>
                </link>
            </child-links>
            <child-links group-name="Группа2">
                <link name="LettersTest" display-text="ПисьмаТест">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="Letter">
                            <collection-viewer>
                                <collection-ref name="Letters"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>

            </child-links>
        </link>
        <link name="SochiServer" display-text="Сочи Сервер" image="images/matugalnik2.png" child-to-open="Module">
            <child-links>

                <link name="Departments" display-text="департаменты">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="SO_Department">
                            <collection-viewer>
                                <collection-ref name="SO_Department_Collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Organizations" display-text="организации">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="SO_OrgSystem">
                            <collection-viewer>
                                <collection-ref name="SO_OrgSystem_Collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Module" display-text="модули">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="SS_Module">
                            <collection-viewer>
                                <collection-ref name="SS_Module_Collection"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                </link>
            </child-links>
        </link>
    </navigation>
    <navigation name="panel_1"
                is-default="false">
        <link name="Geography" display-text="География" image="images/analitika.png" child-to-open="Countries">
            <child-links>
                <link name="Countries" display-text="Страны">
                    <plugin>
                        <!--domain-object-type-to-create="country" - temp solution - remove later-->
                        <domain-object-surfer domain-object-type-to-create="country">
                            <collection-viewer>
                                <collection-ref name="Countries"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                                <search-area-ref name="Countries-Search-Area"/>
                                <search-collection-ref name="Countries"/>
                            </collection-viewer>
                            <toggle-edit>true</toggle-edit>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Cities" display-text="Города">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="city">
                            <collection-viewer>
                                <collection-ref name="Cities"/>
                                <default-sort-criteria column-field="population" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>

            </child-links>
        </link>
    </navigation>
    <navigation name="panel_2"
                is-default="false">
        <link name="Geography" display-text="География" image="images/analitika.png" child-to-open="Countries">
            <child-links>
                <link name="Countries" display-text="Страны">
                    <plugin>
                        <!--domain-object-type-to-create="country" - temp solution - remove later-->
                        <domain-object-surfer domain-object-type-to-create="country">
                            <collection-viewer>
                                <collection-ref name="Countries"/>
                                <default-sort-criteria column-field="name" order="desc"/>
                                <search-area-ref name="Countries-Search-Area"/>
                                <search-collection-ref name="Countries"/>
                            </collection-viewer>
                            <toggle-edit>true</toggle-edit>
                        </domain-object-surfer>
                    </plugin>
                </link>
                <link name="Cities" display-text="Города">
                    <plugin>
                        <domain-object-surfer domain-object-type-to-create="city">
                            <collection-viewer>
                                <collection-ref name="Cities"/>
                                <default-sort-criteria column-field="population" order="desc"/>
                            </collection-viewer>
                        </domain-object-surfer>
                    </plugin>
                    <decorations>
                        <collection-counter/>
                    </decorations>
                </link>

            </child-links>
        </link>

    </navigation>
    <!--Test Navigation config-->
    <navigation-panel-mappings>
        <navigation-panel-mapping name="panel">
            <users>
                <user uid="admin"/>
            </users>
            <groups>
                <group-name value="Minister"/>
            </groups>
        </navigation-panel-mapping>
    </navigation-panel-mappings>

    <navigation-panel-mappings>
        <navigation-panel-mapping name="panel_1">
            <users>
                <user uid="person1"/>
            </users>
            <groups>
                <group-name value="Administrators"/>
            </groups>
        </navigation-panel-mapping>
    </navigation-panel-mappings>
    <navigation-panel-mappings>
        <navigation-panel-mapping name="panel_2">
            <users>
                <user uid="person2"/>
            </users>
            <groups>
                <group-name value="Группа"/>
            </groups>
        </navigation-panel-mapping>
    </navigation-panel-mappings>

</configuration>